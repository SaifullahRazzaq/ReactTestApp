{"ast":null,"code":"var _ApiCaller;\nimport Axios from 'axios';\nimport { ToastError } from './ToastMessage';\nimport { Store } from '../redux';\nimport { AuthAction } from '../redux/Actions';\nexport var baseUrl = 'http://localhost:3010/api/v1';\nconst CancelToken = Axios.CancelToken.source();\n// create the source\n\nAxios.interceptors.response.use(response => {\n  return response;\n}, async ({\n  response,\n  ...rest\n}) => {\n  if ((response === null || response === void 0 ? void 0 : response.status) == 401) {\n    try {\n      // let {\n      //   AuthReducer: {\n      //     user: {refreshToken},\n      //   },\n      // } = Store.getState();\n      //  console.warn(\"401 UnAuthenticated\")\n      // Axios.CancelToken();\n\n      Store.dispatch(AuthAction.ClearRedux());\n      // CancelToken.cancel('Network error');\n      console.log('Session Expired!', response);\n      ToastError('Session Expired! Please login.');\n      // NavigationService.resetStack('AuthStack');\n      // });\n    } catch (err) {\n      console.log('Error= ===', err);\n      // Toast.show(ToastError('Network error, please try again.'));\n    }\n  } else if (response.status == 0) {\n    // console.log('response', response);\n    return {\n      ...response,\n      data: {\n        message: response === null || response === void 0 ? void 0 : response._response\n      }\n    };\n  }\n  return response;\n});\n\n// Axios.interceptors.request.use(\n//   function (config) {\n//     console.log('internet', config);\n//     // if (!internet) {\n//     //   Toast.show(ToastError('Network error, please try again.'));\n//     //   controller.abort;\n//     //   // return null;\n//     // }\n//     // unsubscribe();\n//     return config;\n//   },\n//   function (error) {\n//     // Do something with request error\n//     return Promise.reject(error);\n//   },\n// );\nexport default class ApiCaller {}\n_ApiCaller = ApiCaller;\nApiCaller.getQueryStringOfObject = (obj, prefix) => {\n  var str = [],\n    p;\n  for (p in obj) {\n    if (obj.hasOwnProperty(p)) {\n      var k = prefix ? prefix + '[' + p + ']' : p,\n        v = obj[p];\n      str.push(v !== null && typeof v === 'object' ? _ApiCaller.getQueryStringOfObject(v, k) : encodeURIComponent(k) + '=' + encodeURIComponent(v));\n    }\n  }\n  return str.join('&');\n};\nApiCaller.BearerHeaders = (token, More = {}) => {\n  return {\n    Authorization: 'Bearer ' + token,\n    ...More\n  };\n};\nApiCaller.Get = (url = '', headers = {}, customUrl = '') => {\n  _ApiCaller.source = CancelToken;\n  console.log('API CALL===>>> GET', customUrl ? customUrl : `${baseUrl}${url}`);\n  return Axios.get(customUrl ? customUrl : `${baseUrl}${url}`, {\n    timeout: 20000,\n    cancelToken: _ApiCaller.source.token,\n    headers: {\n      'Content-Type': 'application/json; charset=utf-8',\n      ...headers\n    }\n  }).then(res => res).catch(err => err.response);\n};\nApiCaller.Post = async (endPoint = '', body = {}, headers = {}, cutomUrl = '', onUploadProgress = () => {}) => {\n  console.log('API CALL===>>> POST', endPoint, body, headers);\n  return Axios.post(cutomUrl ? cutomUrl : `${baseUrl}${endPoint}`, body, {\n    timeout: 20000,\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      ...headers\n    },\n    onUploadProgress: progress => onUploadProgress(progress)\n  });\n};\nApiCaller.Put = (url = '', body = {}, headers = {}) => {\n  return Axios.put(`${baseUrl}${url}`, body, {\n    headers: {\n      'Content-Type': 'application/json',\n      ...headers\n    }\n  }).then(res => res).catch(err => err.response);\n};\nApiCaller.Delete = (url = '', body = {}, headers = {}) => {\n  return Axios.delete(`${baseUrl}${url}`, {\n    headers: {\n      'Content-Type': 'application/json',\n      ...headers\n    },\n    data: body\n  }).then(res => res).catch(err => err.response);\n};","map":{"version":3,"names":["Axios","ToastError","Store","AuthAction","baseUrl","CancelToken","source","interceptors","response","use","rest","status","dispatch","ClearRedux","console","log","err","data","message","_response","ApiCaller","_ApiCaller","getQueryStringOfObject","obj","prefix","str","p","hasOwnProperty","k","v","push","encodeURIComponent","join","BearerHeaders","token","More","Authorization","Get","url","headers","customUrl","get","timeout","cancelToken","then","res","catch","Post","endPoint","body","cutomUrl","onUploadProgress","post","Accept","progress","Put","put","Delete","delete"],"sources":["/Users/saifullahrazzaq/Desktop/Projects/my-app/ClientSide/src/config/ApiCaller.js"],"sourcesContent":["import Axios from 'axios';\nimport { ToastError } from './ToastMessage';\nimport { Store } from '../redux';\nimport { AuthAction } from '../redux/Actions';\nexport var baseUrl = 'http://localhost:3010/api/v1';\n\nconst CancelToken = Axios.CancelToken.source();\n// create the source\n\nAxios.interceptors.response.use(\n    response => {\n        return response;\n    },\n    async ({ response, ...rest }) => {\n        if (response?.status == 401) {\n            try {\n                // let {\n                //   AuthReducer: {\n                //     user: {refreshToken},\n                //   },\n                // } = Store.getState();\n                //  console.warn(\"401 UnAuthenticated\")\n                // Axios.CancelToken();\n\n                Store.dispatch(AuthAction.ClearRedux());\n                // CancelToken.cancel('Network error');\n                console.log('Session Expired!', response);\n                ToastError('Session Expired! Please login.')\n                // NavigationService.resetStack('AuthStack');\n                // });\n            } catch (err) {\n                console.log('Error= ===', err);\n                // Toast.show(ToastError('Network error, please try again.'));\n            }\n        } else if (response.status == 0) {\n            // console.log('response', response);\n            return { ...response, data: { message: response?._response } };\n        }\n        return response;\n    },\n);\n\n// Axios.interceptors.request.use(\n//   function (config) {\n//     console.log('internet', config);\n//     // if (!internet) {\n//     //   Toast.show(ToastError('Network error, please try again.'));\n//     //   controller.abort;\n//     //   // return null;\n//     // }\n//     // unsubscribe();\n//     return config;\n//   },\n//   function (error) {\n//     // Do something with request error\n//     return Promise.reject(error);\n//   },\n// );\nexport default class ApiCaller {\n    static getQueryStringOfObject = (obj, prefix) => {\n        var str = [],\n            p;\n        for (p in obj) {\n            if (obj.hasOwnProperty(p)) {\n                var k = prefix ? prefix + '[' + p + ']' : p,\n                    v = obj[p];\n                str.push(\n                    v !== null && typeof v === 'object'\n                        ? this.getQueryStringOfObject(v, k)\n                        : encodeURIComponent(k) + '=' + encodeURIComponent(v),\n                );\n            }\n        }\n        return str.join('&');\n    };\n\n    static BearerHeaders = (token: any, More: AxiosRequestConfig = {}) => {\n        return {\n            Authorization: 'Bearer ' + token,\n            ...More,\n        };\n    };\n\n    static Get = (url = '', headers = {}, customUrl = '') => {\n        this.source = CancelToken;\n        console.log(\n            'API CALL===>>> GET',\n            customUrl ? customUrl : `${baseUrl}${url}`,\n        );\n\n        return Axios.get(customUrl ? customUrl : `${baseUrl}${url}`, {\n            timeout: 20000,\n            cancelToken: this.source.token,\n            headers: {\n                'Content-Type': 'application/json; charset=utf-8',\n                ...headers,\n            },\n        })\n            .then(res => res)\n            .catch(err => err.response);\n    };\n\n    static Post = async (\n        endPoint = '',\n        body = {},\n        headers = {},\n        cutomUrl = '',\n        onUploadProgress = () => { },\n    ) => {\n        console.log('API CALL===>>> POST', endPoint, body, headers);\n        return Axios.post(cutomUrl ? cutomUrl : `${baseUrl}${endPoint}`, body, {\n            timeout: 20000,\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n                ...headers,\n            },\n            onUploadProgress: progress => onUploadProgress(progress),\n        });\n    };\n\n    static Put = (url = '', body = {}, headers = {}) => {\n        return Axios.put(`${baseUrl}${url}`, body, {\n            headers: { 'Content-Type': 'application/json', ...headers },\n        })\n            .then(res => res)\n            .catch(err => err.response);\n    };\n\n    static Delete = (url = '', body = {}, headers = {}) => {\n        return Axios.delete(`${baseUrl}${url}`, {\n            headers: { 'Content-Type': 'application/json', ...headers },\n            data: body,\n        })\n            .then(res => res)\n            .catch(err => err.response);\n    };\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}